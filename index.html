<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>Vector Runner</title>
</head>

<body>
  <svg width="1920" height="1080" xmlns="http://www.w3.org/2000/svg">
    <g transform="translate(50,50),scale(2)">
      <g id="wezen" fill="white" stroke="black" stroke-width="3" stroke-linecap="round">
        <g id="linkerarm" transform-origin="0 20" transform="rotate(-30)">
          <path d="M 0,20 v 20" stroke="gray"/>
        </g>
        <g id="linkerbeen" transform-origin="0 40" transform="rotate(-15)">
           <path d="M 0,40 v 30" stroke="gray"/>
         </g>
        <g id="romp">
          <path d="M 0,0 v 40"/>
        </g>
        <g id="hoofd">
          <circle r="10" x="0" y="0"/>
        </g>
        <g id="rechterarm" transform-origin="0 20" transform="rotate(30)">
          <path d="M 0,20 v 20"/>
        </g>
        <g id="rechterbeen" transform-origin="0 40" transform="rotate(15)">
           <path d="M 0,40 v 30"/>
        </g>
      </g>
    </g>
  </svg>
  <script>
    const freq = 1.3 * 2*Math.PI;
    const ampArm = 30;
    const ampBeen = 15;
    const ampWezen = 5;

    const lArm = document.getElementById("linkerarm")
    const rArm = document.getElementById("rechterarm")
    const lBeen = document.getElementById("linkerbeen")
    const rBeen = document.getElementById("rechterbeen")
    const wezen = document.getElementById("wezen")

    let start;

    function step(timestamp) {
      if (start === undefined) {
        start = timestamp;
      }

      const dt = (timestamp - start)/1000;

      const rArmAngle = ampArm * Math.sin(freq * dt);
      const lArmAngle = ampArm * Math.sin(freq * dt + Math.PI);
      const rBeenAngle = ampBeen * Math.sin(freq * dt + Math.PI);
      const lBeenAngle = ampBeen * Math.sin(freq * dt);
      const wezenShift = ampWezen/2 * (1 + Math.sin(2*freq * dt + Math.PI/2));

      lArm.setAttribute("transform", `rotate(${lArmAngle})`);
      rArm.setAttribute("transform", `rotate(${rArmAngle})`);
      lBeen.setAttribute("transform", `rotate(${lBeenAngle})`);
      rBeen.setAttribute("transform", `rotate(${rBeenAngle})`);
      wezen.setAttribute("transform", `translate(0, ${wezenShift})`);
  
      window.requestAnimationFrame(step);
    }

    window.requestAnimationFrame(step);
  </script>
</body>
</html>